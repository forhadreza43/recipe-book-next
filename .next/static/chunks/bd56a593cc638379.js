(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,38981,e=>{"use strict";e.s(["cuisineTypes",()=>t]);let t=["Italian","Mexican","Indian","Chinese","Others"]},54842,e=>{"use strict";e.s(["default",()=>c]);var t=e.i(43476),i=e.i(38981),a=e.i(26732),s=e.i(71645),r=e.i(5766),n=e.i(45740);let l=["Breakfast","Lunch","Dinner","Dessert","Vegan"];function c(){let{data:e}=(0,a.useSession)(),c=null==e?void 0:e.user,[d,o]=(0,s.useState)(!1),[u,p]=(0,s.useState)({image:"",title:"",ingredients:"",instructions:"",cuisine:"",time:"",categories:[],likes:0}),m=e=>{let{name:t,value:i,type:a,checked:s}=e.target;"checkbox"===a?p(e=>({...e,categories:s?[...e.categories,i]:e.categories.filter(e=>e!==i)})):p(e=>({...e,[t]:i}))},h=async e=>{e.preventDefault(),o(!0);let t={...u,userEmail:c.email,userName:c.displayName,userPhoto:c.photoURL,createdAt:new Date().toISOString()};try{fetch("https://recipe-book-app-server-chi.vercel.app/recipes",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t)}).then(e=>e.json()).then(e=>{e.insertedId&&(r.default.success("Recipe added successfully!"),p({image:"",title:"",ingredients:"",instructions:"",cuisine:"",time:"",categories:[],likes:0})),o(!1)})}catch(e){r.default.error("Failed to add recipe"),console.error(e),o(!1)}};return d?(0,t.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,t.jsx)(n.LoaderFive,{text:"Adding..."})}):(0,t.jsxs)("div",{className:"mx-auto mt-20 max-w-3xl rounded border border-orange-300 p-6 shadow",children:[(0,t.jsx)("h2",{className:"mb-4 text-2xl font-bold dark:text-gray-200",children:"Add a New Recipe"}),(0,t.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[(0,t.jsx)("input",{type:"text",name:"image",placeholder:"Image URL",value:u.image,onChange:m,className:"input-field",required:!0}),(0,t.jsx)("input",{type:"text",name:"title",placeholder:"Recipe Title",value:u.title,onChange:m,className:"input-field",required:!0}),(0,t.jsx)("textarea",{name:"ingredients",placeholder:"Ingredients",value:u.ingredients,onChange:m,className:"input-field",required:!0}),(0,t.jsx)("textarea",{name:"instructions",placeholder:"Instructions",value:u.instructions,onChange:m,className:"input-field",required:!0}),(0,t.jsxs)("select",{name:"cuisine",value:u.cuisine,onChange:m,className:"input-field dark:text-gray-200",required:!0,children:[(0,t.jsx)("option",{value:"",children:"Select Cuisine Type"}),i.cuisineTypes.map(e=>(0,t.jsx)("option",{className:"bg-white text-black dark:bg-gray-800 dark:text-gray-200",children:e},e))]}),(0,t.jsx)("input",{type:"number",name:"time",placeholder:"Preparation Time (minutes)",value:u.time,onChange:m,className:"input-field",required:!0}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"mb-2 font-medium dark:text-gray-200",children:"Categories:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-4",children:l.map(e=>(0,t.jsxs)("label",{className:"flex items-center gap-2 dark:text-gray-200",children:[(0,t.jsx)("input",{type:"checkbox",name:"categories",className:"",value:e,checked:u.categories.includes(e),onChange:m}),e]},e))})]}),(0,t.jsx)("button",{type:"submit",disabled:d,className:"cursor-pointer rounded bg-orange-600 px-4 py-2 text-white hover:bg-orange-700 disabled:cursor-not-allowed disabled:opacity-50",children:d?(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Adding..."]}):"Add Recipe"})]})]})}}]);
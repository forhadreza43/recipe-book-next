{"version":3,"sources":["turbopack:///[project]/utils/utils.js","turbopack:///[project]/components/AddRecipe.jsx"],"sourcesContent":["export const cuisineTypes = [\r\n  \"Italian\",\r\n  \"Mexican\",\r\n  \"Indian\",\r\n  \"Chinese\",\r\n  \"Others\",\r\n];\r\n","\"use client\";\r\nimport { cuisineTypes } from \"@/utils/utils\";\r\nimport { useSession } from \"next-auth/react\";\r\nimport { useState } from \"react\";\r\nimport toast from \"react-hot-toast\";\r\nimport { LoaderFive } from \"./ui/loader\";\r\nconst categories = [\"Breakfast\", \"Lunch\", \"Dinner\", \"Dessert\", \"Vegan\"];\r\n\r\nexport default function AddRecipe() {\r\n  const { data: session } = useSession();\r\n  const user = session?.user;\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const [formData, setFormData] = useState({\r\n    image: \"\",\r\n    title: \"\",\r\n    ingredients: \"\",\r\n    instructions: \"\",\r\n    cuisine: \"\",\r\n    time: \"\",\r\n    categories: [],\r\n    likes: 0,\r\n  });\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value, type, checked } = e.target;\r\n\r\n    if (type === \"checkbox\") {\r\n      setFormData((prev) => ({\r\n        ...prev,\r\n        categories: checked\r\n          ? [...prev.categories, value]\r\n          : prev.categories.filter((cat) => cat !== value),\r\n      }));\r\n    } else {\r\n      setFormData((prev) => ({\r\n        ...prev,\r\n        [name]: value,\r\n      }));\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setIsLoading(true);\r\n    const newRecipe = {\r\n      ...formData,\r\n      userEmail: user.email,\r\n      userName: user.displayName,\r\n      userPhoto: user.photoURL,\r\n      createdAt: new Date().toISOString(),\r\n    };\r\n\r\n    try {\r\n      fetch(`${process.env.NEXT_PUBLIC_API_URL}/recipes`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"content-type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(newRecipe),\r\n      })\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          if (result.insertedId) {\r\n            toast.success(\"Recipe added successfully!\");\r\n            setFormData({\r\n              image: \"\",\r\n              title: \"\",\r\n              ingredients: \"\",\r\n              instructions: \"\",\r\n              cuisine: \"\",\r\n              time: \"\",\r\n              categories: [],\r\n              likes: 0,\r\n            });\r\n          }\r\n          setIsLoading(false);\r\n        });\r\n    } catch (error) {\r\n      toast.error(\"Failed to add recipe\");\r\n      console.error(error);\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return isLoading ? (\r\n    <div className=\"flex items-center justify-center h-screen\">\r\n      <LoaderFive text=\"Adding...\" />\r\n    </div>\r\n  ) : (\r\n    <div className=\"mx-auto mt-20 max-w-3xl rounded border border-orange-300 p-6 shadow\">\r\n      <h2 className=\"mb-4 text-2xl font-bold dark:text-gray-200\">\r\n        Add a New Recipe\r\n      </h2>\r\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n        <input\r\n          type=\"text\"\r\n          name=\"image\"\r\n          placeholder=\"Image URL\"\r\n          value={formData.image}\r\n          onChange={handleChange}\r\n          className=\"input-field\"\r\n          required\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          name=\"title\"\r\n          placeholder=\"Recipe Title\"\r\n          value={formData.title}\r\n          onChange={handleChange}\r\n          className=\"input-field\"\r\n          required\r\n        />\r\n        <textarea\r\n          name=\"ingredients\"\r\n          placeholder=\"Ingredients\"\r\n          value={formData.ingredients}\r\n          onChange={handleChange}\r\n          className=\"input-field\"\r\n          required\r\n        />\r\n        <textarea\r\n          name=\"instructions\"\r\n          placeholder=\"Instructions\"\r\n          value={formData.instructions}\r\n          onChange={handleChange}\r\n          className=\"input-field\"\r\n          required\r\n        />\r\n        <select\r\n          name=\"cuisine\"\r\n          value={formData.cuisine}\r\n          onChange={handleChange}\r\n          className=\"input-field dark:text-gray-200\"\r\n          required\r\n        >\r\n          <option value=\"\">Select Cuisine Type</option>\r\n          {cuisineTypes.map((type) => (\r\n            <option\r\n              key={type}\r\n              className=\"bg-white text-black dark:bg-gray-800 dark:text-gray-200\"\r\n            >\r\n              {type}\r\n            </option>\r\n          ))}\r\n        </select>\r\n        <input\r\n          type=\"number\"\r\n          name=\"time\"\r\n          placeholder=\"Preparation Time (minutes)\"\r\n          value={formData.time}\r\n          onChange={handleChange}\r\n          className=\"input-field\"\r\n          required\r\n        />\r\n        <div>\r\n          <p className=\"mb-2 font-medium dark:text-gray-200\">Categories:</p>\r\n          <div className=\"flex flex-wrap gap-4\">\r\n            {categories.map((cat) => (\r\n              <label\r\n                key={cat}\r\n                className=\"flex items-center gap-2 dark:text-gray-200\"\r\n              >\r\n                <input\r\n                  type=\"checkbox\"\r\n                  name=\"categories\"\r\n                  className=\"\"\r\n                  value={cat}\r\n                  checked={formData.categories.includes(cat)}\r\n                  onChange={handleChange}\r\n                />\r\n                {cat}\r\n              </label>\r\n            ))}\r\n          </div>\r\n        </div>\r\n        <button\r\n          type=\"submit\"\r\n          disabled={isLoading}\r\n          className=\"cursor-pointer rounded bg-orange-600 px-4 py-2 text-white hover:bg-orange-700 disabled:cursor-not-allowed disabled:opacity-50\"\r\n        >\r\n          {isLoading ? (\r\n            <div className=\"flex items-center gap-2\">\r\n              <div className=\"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent\"></div>\r\n              Adding...\r\n            </div>\r\n          ) : (\r\n            \"Add Recipe\"\r\n          )}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}
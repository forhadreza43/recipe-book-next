{"version":3,"sources":["turbopack:///[project]/components/RecipeDetails.jsx","turbopack:///[project]/context/AuthContext.jsx"],"sourcesContent":["\"use client\";\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport toast from \"react-hot-toast\";\r\n\r\nexport default function RecipeDetails({id}) {\r\n  // const { user } = useContext(AuthContext);\r\n  const [recipe, setRecipe] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [likeCount, setLikeCount] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const fetchRecipe = async () => {\r\n      try {\r\n        const response = await fetch(\r\n          `https://recipe-book-app-server-chi.vercel.app/recipes/${id}`,\r\n        );\r\n        const data = await response.json();\r\n        setRecipe(data);\r\n        setLikeCount(data.likes || 0);\r\n      } catch (error) {\r\n        console.error(\"Error fetching recipe:\", error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchRecipe();\r\n  }, [id]);\r\n\r\n  const handleLike = async () => {\r\n    // if (user?.email === recipe.userEmail) {\r\n    //   toast.error(\"You can't like your own recipe!\");\r\n    //   return;\r\n    // }\r\n\r\n    try {\r\n      const response = await fetch(\r\n        `https://recipe-book-app-server-chi.vercel.app/recipes/${id}`,\r\n        {\r\n          method: \"PATCH\",\r\n          headers: {\r\n            \"content-type\": \"application/json\",\r\n          },\r\n        },\r\n      );\r\n      if (response.ok) {\r\n        const updatedRecipe = await response.json();\r\n        setLikeCount(updatedRecipe.likes);\r\n        toast.success(\"You liked the recipe!\");\r\n      } else {\r\n        toast.error(\"Failed to like the recipe.\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error liking recipe:\", error);\r\n      toast.error(\"Something went wrong.\");\r\n    }\r\n  };\r\n\r\n\r\n  if (!recipe) return <div className=\"mt-10 text-center\">Recipe not found</div>;\r\n\r\n  return (\r\n    <div className=\"mx-auto py-10\">\r\n      <p className=\"mb-4 text-xl font-semibold text-orange-500\">\r\n        {likeCount} people interested in this recipe\r\n      </p>\r\n\r\n      <img\r\n        src={recipe.image}\r\n        alt={recipe.title}\r\n        className=\"mb-6 h-64 w-full rounded-lg object-cover\"\r\n      />\r\n      <h1 className=\"mb-2 text-3xl font-bold dark:text-gray-200\">\r\n        {recipe.title}\r\n      </h1>\r\n      <p className=\"mb-1 text-gray-600 dark:text-gray-200\">\r\n        <strong>Cuisine:</strong> {recipe.cuisine}\r\n      </p>\r\n      <p className=\"mb-1 text-gray-600 dark:text-gray-200\">\r\n        <strong>Prep Time:</strong> {recipe.prepTime} minutes\r\n      </p>\r\n      <p className=\"mb-1 text-gray-600 dark:text-gray-200\">\r\n        <strong>Likes:</strong> {likeCount}\r\n      </p>\r\n      <p className=\"mb-1 text-gray-600 dark:text-gray-200\">\r\n        <strong>Categories:</strong> {recipe.categories?.join(\", \")}\r\n      </p>\r\n      <p className=\"mb-4 text-gray-600 dark:text-gray-200\">\r\n        <strong>Added by:</strong> {recipe.user?.name || \"Anonymous\"}\r\n      </p>\r\n\r\n      <div className=\"mb-6 dark:text-gray-200\">\r\n        <h2 className=\"mb-2 text-xl font-semibold\">Ingredients:</h2>\r\n        <p className=\"whitespace-pre-line\">{recipe.ingredients}</p>\r\n      </div>\r\n\r\n      <div className=\"mb-6 dark:text-gray-200\">\r\n        <h2 className=\"mb-2 text-xl font-semibold\">Instructions:</h2>\r\n        <p className=\"whitespace-pre-line\">{recipe.instructions}</p>\r\n      </div>\r\n\r\n      <button\r\n        onClick={handleLike}\r\n        className=\"mt-4 rounded bg-orange-500 px-6 py-2 text-white hover:bg-orange-600 disabled:cursor-not-allowed\"\r\n        // disabled={user?.email === recipe.userEmail}\r\n      >\r\n        Like\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import { createContext } from \"react\";\r\n\r\nexport const AuthContext = createContext(null);\r\n"],"names":[],"mappings":"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"}